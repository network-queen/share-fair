<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<body style="margin:0;padding:0;background-color:#f3f4f6;font-family:Arial,Helvetica,sans-serif;">
<table role="presentation" width="100%" cellpadding="0" cellspacing="0" style="background-color:#f3f4f6;padding:40px 0;">
    <tr>
        <td align="center">
            <table role="presentation" width="600" cellpadding="0" cellspacing="0" style="background-color:#ffffff;border-radius:8px;overflow:hidden;">
                <!-- Header -->
                <tr>
                    <td style="background-color:#6366f1;padding:32px;text-align:center;">
                        <h1 style="color:#ffffff;margin:0;font-size:28px;">ShareFair</h1>
                    </td>
                </tr>
                <!-- Body -->
                <tr>
                    <td style="padding:32px;">
                        <h2 style="color:#1f2937;margin:0 0 16px;">Hi <span th:text="${userName}">User</span>,</h2>

                        <div th:if="${type == 'NEW_TRANSACTION'}">
                            <p style="color:#4b5563;line-height:1.6;margin:0 0 16px;">
                                <strong th:text="${otherUserName}">Someone</strong> has requested to rent
                                "<strong th:text="${listingTitle}">Item</strong>".
                            </p>
                            <p style="color:#4b5563;line-height:1.6;margin:0 0 24px;">
                                Please review and accept or decline the request.
                            </p>
                        </div>

                        <div th:if="${type == 'TRANSACTION_ACCEPTED'}">
                            <p style="color:#4b5563;line-height:1.6;margin:0 0 16px;">
                                Great news! Your rental request for "<strong th:text="${listingTitle}">Item</strong>"
                                has been accepted by <strong th:text="${otherUserName}">Owner</strong>.
                            </p>
                        </div>

                        <div th:if="${type == 'TRANSACTION_COMPLETED'}">
                            <p style="color:#4b5563;line-height:1.6;margin:0 0 16px;">
                                The transaction for "<strong th:text="${listingTitle}">Item</strong>" has been completed.
                            </p>
                            <p style="color:#4b5563;line-height:1.6;margin:0 0 24px;">
                                Don't forget to leave a review!
                            </p>
                        </div>

                        <div th:if="${type == 'TRANSACTION_CANCELLED'}">
                            <p style="color:#4b5563;line-height:1.6;margin:0 0 16px;">
                                The transaction for "<strong th:text="${listingTitle}">Item</strong>" has been cancelled.
                            </p>
                        </div>

                        <!-- Status badge -->
                        <div style="margin:16px 0;padding:12px 16px;border-radius:6px;background-color:#f0fdf4;border:1px solid #bbf7d0;" th:if="${status == 'ACTIVE'}">
                            <span style="color:#166534;font-weight:bold;" th:text="${status}">Status</span>
                        </div>
                        <div style="margin:16px 0;padding:12px 16px;border-radius:6px;background-color:#fefce8;border:1px solid #fde68a;" th:if="${status == 'PENDING'}">
                            <span style="color:#854d0e;font-weight:bold;" th:text="${status}">Status</span>
                        </div>
                        <div style="margin:16px 0;padding:12px 16px;border-radius:6px;background-color:#f3f4f6;border:1px solid #d1d5db;" th:if="${status == 'CANCELLED' or status == 'COMPLETED'}">
                            <span style="color:#374151;font-weight:bold;" th:text="${status}">Status</span>
                        </div>

                        <div style="text-align:center;margin:24px 0;">
                            <a th:href="${transactionUrl}" style="display:inline-block;padding:14px 32px;background-color:#6366f1;color:#ffffff;text-decoration:none;border-radius:6px;font-weight:bold;">
                                View Transaction
                            </a>
                        </div>
                    </td>
                </tr>
                <!-- Footer -->
                <tr>
                    <td style="background-color:#f9fafb;padding:24px;text-align:center;border-top:1px solid #e5e7eb;">
                        <p style="color:#9ca3af;font-size:12px;margin:0;">
                            ShareFair â€” Share. Borrow. Save the planet.
                        </p>
                    </td>
                </tr>
            </table>
        </td>
    </tr>
</table>
</body>
</html>
